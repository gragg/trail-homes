<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="assets/icon.svg">

    <title>Northwest Arkansas Trail Homes</title>
    <link rel="stylesheet" href="reset.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Jost:ital,wght@0,100..900;1,100..900&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="screen.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    
    <!--<script src="handpicks.js"></script>-->

    <link rel="stylesheet" href="mailerlite.css">

    <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-NVDBM63ENL"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-NVDBM63ENL');
</script>

</head>

<body>

    <header class="limit">
        <a id="site-logo" href="index.html"><img src="assets/trail-homes-logo.svg" /></a>
        <div id="navigation">
            <a class="active" href="index.html">Home</a>
            <a href="http://localhost:3000">Blog & podcast</a>
            <!--<a href="handpicked-trailhomes.html">Trail Homes</a>
            <a href="all-listings.html">All Listings</a>-->
            
        </div>
    </header>


    <section class="hero">
        <div class="limit hero-content">
            <h1>Bentonville and Bella Vista, AR Trail Homes</h1>
            <h2>HOMES ON THE TRAILS</h2>
            <!-- <button class="contact">
                Find your trail home
            </button> -->
            <!-- <div id="idx-container"></div> -->
        </div>
    </section>

    <div id="listings"></div>

    <section class="handpicked-trail-homes">
        <div class="limit handpicked-content">
            <div class="title-row">
                <h3>Handpicked Trail Homes</h3>
            </div>
            <ul class="picks">
                <li class="pick">
                    <div class="img-container"><img src="" /><span class="handpicked-flag">NEAR SLAUGHTER
                            PEN</span></div>
                    <div class="info-container">
                        <h5>$420,000</h5>
                        <h6>3 Br | 2 Ba | 1,965 Sq Ft | .33 Acre</h6>
                        <h4>1234 Main St. Bella Vista</h4>
                        <p>Listed by: John H. Smith (Crye-Leike Realtors-Bella Vista)</p>
                    </div>

                </li>
                <li class="pick">
                    <div class="img-container"><img src="" /><span class="handpicked-flag">RIDE TO
                            BLOWING SPRINGS</span></div>
                    <div class="info-container">
                        <h5>$420,000</h5>
                        <h6>3 Br | 2 Ba | 1,965 Sq Ft | .33 Acre</h6>
                        <h4>1234 Main St. Bella Vista</h4>
                        <p>Listed by: John H. Smith (Crye-Leike Realtors-Bella Vista)</p>
                    </div>

                </li>
                <li class="pick">
                    <div class="img-container"><img src="" /><span class="handpicked-flag">NEAR SLAUGHTER
                            PEN</span></div>
                    <div class="info-container">
                        <h5>$420,000</h5>
                        <h6>3 Br | 2 Ba | 1,965 Sq Ft | .33 Acre</h6>
                        <h4>1234 Main St. Bella Vista</h4>
                        <p>Listed by: John H. Smith (Crye-Leike Realtors-Bella Vista)</p>
                    </div>

                </li>
                <li class="pick">
                    <div class="img-container"><img src="" /><span class="handpicked-flag">NEAR SLAUGHTER
                            PEN</span></div>
                    <div class="info-container">
                        <h5>$420,000</h5>
                        <h6>3 Br | 2 Ba | 1,965 Sq Ft | .33 Acre</h6>
                        <h4>1234 Main St. Bella Vista</h4>
                        <p>Listed by: John H. Smith (Crye-Leike Realtors-Bella Vista)</p>
                    </div>

                </li>
            </ul>

        </div>

    </section>


    <section class="introduction">
        <div class="limit intro-content">
            <div class="newsletter">
                <h3>Best. Decision. Ever.</h3>
                <p>My name is Jenna Gragg, and my family and I relocated to Bella Vista to for the incredible bike
                    trails. Now, I specialize in helping fellow cyclists find their ideal homes with direct trail
                    access. If you're looking for the perfect home on the trails, I'd love to help—let's connect!</p>
                <p>Keep up with the latest real estate development news and handpicked trail homes in Bella Vista, AR
                </p>


                <div id="mlb2-22915723" class="ml-form-embedContainer ml-subscribe-form ml-subscribe-form-22915723">
                    <div class="ml-form-align-left ">
                      <div class="ml-form-embedWrapper embedForm">
              
                       
                       
              
                        <div class="ml-form-embedBody ml-form-embedBodyDefault row-form">
              
                          <div class="ml-form-embedContent" style="margin-bottom: 0px; ">
                           
                          </div>
              
                          <form class="ml-block-form" action="https://assets.mailerlite.com/jsonp/1344816/forms/146887550132291083/subscribe" data-code="" method="post" target="_blank">
                            <div class="ml-form-formContent">
                             
              
                               
                                <div class="ml-form-fieldRow ml-last-item">
                                  <div class="ml-field-group ml-field-email ml-validate-email ml-validate-required">
              
                                   
              
              
                                    <!-- input -->
                                    <input aria-label="email" aria-required="true" type="email" class="form-control" data-inputmask="" name="fields[email]" placeholder="Email" autocomplete="email">
                                    <!-- /input -->
              
                                    <!-- textarea -->
                                   
                                    <!-- /textarea -->
              
                                    <!-- select -->
                                   
                                    <!-- /select -->
              
                                    <!-- checkboxes -->
                         
                          <!-- /checkboxes -->
              
                                    <!-- radio -->
                                   
                                    <!-- /radio -->
              
                                    <!-- countries -->
                                   
                                    <!-- /countries -->
              
              
              
              
              
                                  </div>
                                </div>
                             
                            </div>
              
                           
              
                            <!-- Privacy policy -->
                           
                            <!-- /Privacy policy -->
              
                           
              
                           
              
                           
              
              
              
              
              
              
                           
                            <input type="hidden" name="ml-submit" value="1">
              
                            <div class="ml-form-embedSubmit">
                             
                                <button type="submit" class="primary">Subscribe</button>
                             
                              <button disabled="disabled" style="display: none;" type="button" class="loading">
                                <div class="ml-form-embedSubmitLoad"></div>
                                <span class="sr-only">Loading...</span>
                              </button>
                            </div>
              
                           
                            <input type="hidden" name="anticsrf" value="true">
                          </form>
                        </div>
              
                        <div class="ml-form-successBody row-success" style="display: none">
              
                          <div class="ml-form-successContent">
                           
                              <h4>Thank you!</h4>
                             
                                <p>You have successfully joined our subscriber list.</p>
                             
                           
                          </div>
              
                        </div>
                      </div>
                    </div>
                  </div>













            </div>
            <img class="nl-image" src="assets/Back40.jpg" />
        </div>
    </section>

    <footer>
        <div class="limit footer-content">


            <div class="contact-info">
                <img src="assets/trail-homes-logo-white.svg" />
                <div class="name">Jenna Gragg</div>
                <ul class="details">
                    <li> AR Real Estate  License #AR 97513</li>
                    <li>Call or Text Direct: 412-708-0303</li>
                    <li>Email: jenna@back40trailhomes.com</li>
                </ul>
                <ul class="broker">
                    <li>No Place Like Home Realty Co.</li>
                    <li> Principal Broker Sandra Wellesley, Lic #AR 87022</li>
                    <li> 1801 Forest Hills Blvd #119 Bella Vista, AR 72715</li>
                    <li> Bella Vista, AR, USA</li>
                    <li>Office Phone: 479-208-7153</li>
                </ul>
            </div>

            <img class="broker-logo" src="assets/no-place-like-home.png" />

        </div>


    </footer>

   

    <script>


        $(document).ready(function () {



            $(".ml-block-form").submit(function (post) {
        post.prpostDefault(); // Prpost page reload

        var form = $(this);
        var actionUrl = form.attr("action");

        $.ajax({
            type: "POST",
            url: actionUrl,
            data: form.serialize(),
            dataType: "jsonp",
            success: function () {
                console.log("Success: Form submitted to MailerLite"); // Debugging
                $(".ml-form-embedBody").hide(); // Hide the form
                $(".ml-form-successBody").show(); // Show success message
            },
            error: function (error) {
                console.error("MailerLite form submission failed:", error);
            }
        });
    });


            $(window).on("scroll", function () {
                let scrollPos = $(window).scrollTop();
                $(".hero").css("background-position", `center ${scrollPos * 0.5}px`);
            });




//             $(document).on("click", ".pick", function () {
//                 const propertyId = $(this).data("id");
//                 const selectedProperty = properties.find(prop => prop.id === propertyId);

//                 if (selectedProperty) {
//                     localStorage.setItem("selectedProperty", JSON.stringify(selectedProperty));
//                     window.location.href = "trailhome-detail.html"; // Redirect to the details page
//                 }
//             });


            // $(document).on("click", ".pick", function () {
            //     const propertyId = $(this).data("id");
            //     const selectedProperty = handpicks.find(prop => prop.id === propertyId);

            //     if (selectedProperty) {
            //         localStorage.setItem("selectedProperty", JSON.stringify(selectedProperty));
            //         window.location.href = "trailhome-detail.html"; // Redirect to the details page
            //     }
            // });

            let handpicks = []; // 🔹 Declare globally so it's accessible everywhere





            async function fetchHandpicks() {
    try {
        const response = await fetch("https://api.airtable.com/v0/appXx1O0gCdtRVQ3h/Properties?filterByFormula={Publish}=TRUE()", {
            headers: { "Authorization": "Bearer patWgSisSj6xfPDtC.9ac9de0e67cb570f03670047f4a0af9b264e3a70e0e3335648c2d609ed029388" }
        });

        const data = await response.json();

        // Extract valid listings and store them globally
        handpicks = data.records
            .map(record => {
                const fields = record.fields;

                return {
                    ...fields, // Keep existing fields (Address, Price, Beds, etc.)
                    images: [
                        fields["Image"],
                        fields["Image2"],
                        fields["Image3"],
                        fields["Image4"],
                        fields["Image5"],
                        fields["Image6"],
                        fields["Image7"],
                        fields["Image8"],
                        fields["Image9"],
                        fields["Image10"],
                        fields["Image11"],
                        fields["Image12"],
                        fields["Image13"],
                        fields["Image14"],
                        fields["Image15"],
                        fields["Image16"],
                        fields["Image17"],
                        fields["Image18"],
                        fields["Image19"],
                        fields["Image20"]
                    ].filter(img => img) // Remove empty/null values
                };
            })
            .filter(fields => Object.keys(fields).length > 0); // Remove empty objects

        console.log("Filtered Handpicks:", handpicks); // Debugging

        displayHandpicks(handpicks);
        
    } catch (error) {
        console.error("Error fetching Airtable data:", error);
    }
}



// 🔹 Click handler for selecting a property
$(document).on("click", ".pick", function () {
    const propertyId = $(this).data("id"); // Get the property ID
    const selectedProperty = handpicks.find(prop => prop.ID === propertyId); // Find the matching property

    if (selectedProperty) {
        localStorage.setItem("selectedProperty", JSON.stringify(selectedProperty)); // Store in localStorage
        window.location.href = `trailhome-detail.html?id=${propertyId}`; // ✅ Pass ID in URL
    } else {
        console.error("Property not found:", propertyId);
    }
});

function displayHandpicks(handpicks) {
    console.log("Properties ready to display:", handpicks);
    let propertyHTML = "";

    handpicks.forEach(handpick => {
        propertyHTML += `
        <li class="pick" data-id="${handpick.ID}">
            <div class="img-container">
                <img src="${handpick.Image}" loading="lazy" alt="Property Image" />
                <span class="handpicked-flag">${handpick.Flag || ''}</span>
            </div>
            <div class="info-container">
                <h5>${handpick.Price}</h5>
                <h6>${handpick.Beds} Br | ${handpick.Baths} Ba | ${handpick.Size} | ${handpick.Acreage}</h6>
                <h4>${handpick.Address}</h4>
                <p>Listed by: ${handpick.ListingAgent}</p>
            </div>
        </li>`;
    });

    document.querySelector(".picks").innerHTML = propertyHTML;
}

// 🔹 Fetch listings and populate the page
fetchHandpicks();


        });

    </script>


 <!--mailerlite includes-->
 <script src="https://groot.mailerlite.com/js/w/webforms.min.js?v176e10baa5e7ed80d35ae235be3d5024" type="text/javascript"></script>
 <script>
     fetch("https://assets.mailerlite.com/jsonp/1344816/forms/146887550132291083/takel")
 </script>


</body>

</html>